<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>学习廖雪峰_Lesson3</title>
	</head>
	<body>
		<!--
        	作者：1005213565@qq.com
        	时间：2016-11-16
        	描述：for循环
    
        -->
        <script type="text/javascript">
        	// for 
        	var x = 0;
        	for (;;) { // 将无限循环下去
        		
        		if (x>100){
        			break; // 通过if判断来退出循环
        		}
        		x++;
        	}
        	document.write("循环后的X=",x,"<br>");
        	
        	// for in
        	var o = {
        		name:"Jack",
        		age:20,
        		city:"Beijing"
        	}
        	for (var key in o){
        		
        		if (o.hasOwnProperty(key)){
        			//      		alert(a.key); // 是错误的，由于属性是被点出来的，不是个字符串，而key是个字符串所以必须用a[key];
//      		alert(o[key]);
        		}
        		// 注意for in对Array的循环得到的是String而不是Number
        	}
        </script>
        
        
        <!--
        	作者：1005213565@qq.com
        	时间：2016-11-16
        	描述：Map和Set
             JS对象的默认表示方式{}，可以视为其他语言中的Map或Dictionary的数据结构，即一组键值对
             但是JS对象有个小问题，就是键必须是字符串。但是实际上Number或者其他数据类型作为键也是非常合理的。
             为了解决这一问题，最新的ES6规范引入了新的数据类型Map。
        -->
       <script type="text/javascript">
       // 测试你的浏览器是否支持map
//     'use strict';
//     	var m = new Map();
//      var s = new Set();
//      alert('你的浏览器支持Map和Set！');
       </script>
       
        <script type="text/javascript">
        	// Map是一组键值对的结构，具有极快的查找速度。
        	// 举个例子，假设要根据同学的名字查找对应的成绩，如果用Array实现，需要两个Array；
        	var names = ["Mich","Bob","Try"];
        	var scores = [93,78,88];
        	/*
        	 * 给定一个名字，要查找对应的成绩，就先在names中找到对应的位置，再从scores取出对应的成绩，Array越长耗时越长。
        	 * 如果使用Map实现，只需一个“名字”-“成绩”的对照表，直接根据名字查找成绩，无论这个表有多大，查找速度都不会变慢。用JS写一个Map如下
        	 * 
        	 */
        	var m = new Map([["Mich",92],["Bob",74],["Try",86]]);
        	m.get("Mich");
        	document.write("通过Map获得对应键值对=",	m.get("Mich"),"<br>");
        	
        	// 初始化Map需要一个二维数组，或者直接初始化一个空Map。Map具有以下方法：
        	var m1 = new Map(); // 空Map
        	m1.set("Adam",34); // 添加新的key-value
        	m1.set("Bob",88); // 
        	m1.has("Adam"); // 是否存在key “Adam”：true
        	m1.get("Adam"); // 获取对应的value
        	m1.delete("Adam"); // 删除"Adam"
        document.write("Map中获取值的方式=",m1.get("Bob"),"<br>");
        
        // 由于一个key只能对应一个value，所以多次对一个key放入value，后面的值会把前面的值冲掉。
        var m2 = new Map();
        m2.set("LLL",23);
        m2.set("LLL",88);
        m2.get("LLL");
        document.write("多次放入同样的键，覆盖前面的值LLL=",m2.get("LLL"),"<br>");
        
        // Set
        // Set和Map类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在Set中，没有重复的key
        // 要创建一个Set，需要提供一个Array作为输入，或者直接创建一个空Set
        var s1 = new Set(); // 空Set
        var s2 = new Set([1,2,3]); // 含1，2，3
        
        // 重复元素在Set中自动被过滤
        var s = new Set([1,2,3,3,"3"]);
        // 通过add(key)方法可以添加元素到set中，可以重复添加，但不会有效果
        s.add(4);
        s.add(1,2,3,4);
        
        // 通过delete(key)方法可以删除元素：
        var s3 = new Set([1,2,3]);
        s; // Set{1,2,3};
        s.delete(3);
        s; // Set{1,2}
   
        // 小结：Map和Set是ES6标准的数据类型，请根据浏览器的支持情况决定是否使用。
        </script>

       
       <!--
       	作者：1005213565@qq.com
       	时间：2016-11-16
       	描述：iterable
       	     遍历Array可以采用下标循环，遍历Map和Set就无法使用下标。为了统一集合类型，ES6标准引入了新的
       	     iterable类型，Array、Map和Set都属于iterable类型。
       	     具有iterable类型的集合可以通过新的for...of循环来遍历。
       	     for...of循环式ES6引入的新的语法，请测试你的浏览器是否支持
       -->
       <script type="text/javascript">
       	// 测试浏览器是否支持for of
//     	'use strict';
//       var a = [1, 2, 3];
//       for (var x of a) {
//        }
//       alert('你的浏览器支持for ... of');
       	
       	// 用for...of循环遍历集合，用法如下：
       	var a = ["A","B","C"];
       	a.name = "Hello";
       	var s4 = new Set(["A","B","C","D","E"]);
       	var m1 = new Map([[1,"x"],[2,"y"],[3,"z"]]);
       	for (var x of a){
       		document.write("遍历数组Array元素=",x,"<br>"); // 循环出的结果不包括Hello，但是如果用for in循环会出现，这是forin的bug
       	}
       	for (var x of s4){
       		document.write("遍历Map元素",x,"<br>");
       	}
       	for (var x of m1){
       		document.write("遍历set元素",x[0],"：",x[1],"<br>");
       	}
       	
       	// 当然还有比for of更好的iterable内置的forEach方法，它接受一个函数，每次迭代就自动调回改函数，例如Array
       	var a1 = ["A","B","C"];
       	a1.name = "Hello";
       	a1.forEach(function (element,index,array){ // 对于那些参数不感兴趣可以不用写
       		// element 指向当前元素的值
       		// index 指向当前的索引
       		// array 指向Array对象本身
       		alert(element); 
       	});
       	
       	
       	
       	
       	// 用for in循环
       	var o = {name:"Jack",age:20,city:"Beijing"};
       	for (var key in o){
       		if(o.hasOwnProperty(key)){ // 判断o是否有自己的这个属性
       			
       			alert(o[key]); 
       		}
       	}
       </script>
       
       <!--
       	作者：1005213565@qq.com
       	时间：2016-12-21
       	描述：while循环,do...while同样的
       -->
       <script type="text/javascript">
       	var x=0;
       	var n=99;
       	while (n>0){
       		x = x + n;
       		n = n - 2;
       	}
       	document.write("while得到的结果x=",x,"<br>");
       </script>
	</body>
</html>
